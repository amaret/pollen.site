<!DOCTYPE html>
<html lang="en">

  <head>
    
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Pollen, a new programming language for tiny computers by Amaret, Inc.">
    <meta name="keywords" content="programming, programming languages, languages, hardware, microcontroller, embedded system, embedded systems, embedded systems programming, embedded development, microcontroller software, microcontroller software development">
    <meta name="author" content="Amaret, Inc.">

    <title>Programming Pollen</title>

    <!-- Bootstrap core CSS -->
    <link href="../../static/css/bootstrap.css" rel="stylesheet" />

    <!-- Prism CSS -->
    <link href="../../static/css/prism.css" rel="stylesheet" />

    <!-- Amaret core CSS -->
    <link href="../../static/css/pollen.css" rel="stylesheet" />

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="static/ico/apple-touch-icon-144-precomposed.png">
    <link rel="icon" href="static/ico/favicon.ico">

    <!-- analytics --> 
    <script></script>
  </head>

  <body class="doc-page language-javascript" data-spy="scroll" data-target="#doc-sidenav">

    <div class="navbar navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://localhost/~amichi/pollen/index.html">Pollen</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li id="introduction"><a href="http://localhost/~amichi/pollen/introduction/index.html">Introduction</a></li>
        <li><a href="http://localhost/~amichi/pollen/guide/index.html">Language Guide</a></li>
        <li><a href="http://localhost/~amichi/pollen/reference/index.html">Reference</a></li>
        <li><a href="http://localhost/~amichi/pollen/compiler/index.html">Compiler</a></li>
        <li><a href="">Support</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="">About</a></li>
      </ul>
    </div>
  </div>
  <div class="alert alert-warning" role="alert" style="text-align: center; margin: 0">
    <p><span class="glyphicon glyphicon-road" aria-hidden="true"></span> This documentation is being worked on and is not yet in a releasable state. &nbsp;2015-04-21</p>
  <p>  </p>
</div>

</div>



    <div class="doc-header draft-mode">
      <div class="container">
        <h1>Programming Pollen</h1>
        <p>A practical guide to the Pollen language features and how to make use of them effectively.</p>
      </div>
    </div>

    <div class="container doc-container" style="padding-bottom: 60px">
      <div class="row" id="content">
        <div class="col-md-3">
  <nav id="doc-sidenav" class="doc-sidebar hidden-print hidden-xs hidden-sm" role="navigation">
    <h4>Language Guide</h4>
<ul class="nav doc-sidenav affix-top" data-spy="affix" data-offset-top="10" data-offset-bottom="200" style="margin-top: 0px">
  <li><a href="http://localhost/~amichi/pollen/guide">The Basics</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/operators">Basic Operators</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/strings">Strings and Characters</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/arrays">Arrays</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/control-flow">Control Flow</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/function-references">Function References</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/host-initialization">Host Initialization</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/modules">Modules</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/protocols">Protocols</a></li>  
  <li><a href="http://localhost/~amichi/pollen/guide/compositions">Compositions</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/classes">Classes</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/enumerations">Enumerations</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/meta">Meta Types</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/print-keyword">Print Keyword</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/intrinsics">Intrinsics</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/c-code">C Code Injection</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/packages-bundles">Packages &amp; Bundles</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/pollen-corelib">Core Library</a>
    <ul>
        <li><a href="http://localhost/~amichi/pollen/guide/pollen-events">Events</a></li>
        <li><a href="http://localhost/~amichi/pollen/guide/pollen-timers">Timers</a></li>
    </ul>
  </li>
  
</ul>

  </nav>
</div>

<div class="col-md-9" role="main">

  
<h1 id="packages" class="page-header">Packages, Bundles, and Import</h1>

<p class="lead">The Pollen translator is invoked with a top level unit and a set of bundles.</p>

<p>A bundle is a named directory which contains a collection
of packages. 
Pollen has a two directory structure where the root is the bundle and
the child is the package.
For example Pollen has some supplied bundes that contain core 
functionality. One of these is <code>pollen-core</code>. This bundle contains the following
packages:</p>

<pre><code> pollen.data     pollen.hardware pollen.output   pollen.pwm      pollen.time
 pollen.event    pollen.math     pollen.parts    pollen.text     pollen.utils
</code></pre>

<p>The package <code>pollen.event</code> contains Pollen code which supports events:</p>

<pre><code> Event.p  EventQueue.p   HandlerProtocol.p Newsroom.p 
</code></pre>

<p>The <code>.p</code> suffix identifies a Pollen source file. </p>

<p>Packages contain Pollen types such as modules, compositions, protocols, classes and enumerations. </p>

<p>The Pollen translator is called with a top level module and a set of bundles.
When given a bundle, the translator will handle it as a collection and process all the contained packages. </p>

<p>The top level module uses the import statement to import the units it
needs. These units must be found in the set of bundles supplied to the
Pollen translator.</p>

<p>Users can code their own bundles for their applications. In addition a set of bundles is provided with Pollen which implements commonly used functionality. One of these provided bundles is called <code>pollen-core</code>. It contains a set of useful packages for timers, events, printing, and more. </p>

<h2 class="page-header" id="ref-package">
The Package Statement
</h2>

<p>A Pollen program can begin with a package statement. For example, class <code>Event</code>
begins with the statement <code>package pollen.event</code>. If the package statement is
not present the directory name of the pollen file is used as the default package. </p>

<p>The package statement is documentary and does not change code generation.</p>

<h2 class="page-header" id="ref-import">
The Import Statement
</h2>

<p>The import statement can appear in classes, modules, protocols, and
compositions. Classes, modules, protocols, and compositions can import classes,
modules, compositions, protocols, and enums. This is the simple form of the import:</p>

<pre><code> import Cpu
</code></pre>

<p>The import statement has an optional <code>from</code> clause and an optional <code>as</code> clause.</p>

<pre><code> from distro.ti.launchpad import Board  // 'from' specifies a package 
 from Board import Pin as MyPin         // 'from' specifies a composition 
</code></pre>

<ul>
<li>The <code>from</code> clause can specify either a package or a composition. 
<ul>
<li>If not present, the type must be found in the package of the unit containing the import.
</li>
<li>If importing a module <code>from</code> a composition, that module must have
been exported by the composition using the export statement.</li>
</ul>
</li>
<li>The <code>as</code> clause specifies the local name for the type.</li>
</ul>

<p>Packages cannot be imported. </p>

<h2 class="page-header" id="ref-invoke-bundles">
Invoking the Pollen Cloud Compiler with Bundles
</h2>

<p>Here is an invocation of the Pollen cloud compiler that supplies several bundles
(<code>pollen-core</code>, <code>localhost</code>, <code>environments</code>). </p>

<pre><code>pollenc -o &lt;output path&gt; -t localhost-gcc \
    -b @pollen-core  -b @localhost   -b @environments  \
    -e @environments/localhost/LocalHost TimerBlink.p
</code></pre>

<p>A <code>-b</code> option to Pollen must precede each bundle path. Bundles can be sourced locally or they can reside in the cloud with the Pollen translator.  (The cloud bundles are those which are provided with Pollen.) Cloud bundles are specified with an <code>@</code> preceding the bundle name. In the example above <code>@pollen-core</code> specifies the <code>pollen-core</code> bundle in the cloud.  Note that the cloud bundles can be downloaded if you wish to customize or examine them, so they can be sourced locally if you wish.  </p>

<p>When given a bundle, Pollen will handle it as a collection and process all the contained packages. Pollen attempts to satisfy the names supplied in the import statement with the types contained in the bundle. </p>
  
  
</div>


      </div>
    </div>

        <footer class="" role="contentinfo">
      <div class="container section">

          <div class="container">
            <a data-scroll href="http://amaret.com"><img class="brand-logo" src="../../static/img/logo_white_medium.png" /></a>
            <h3 style="margin-top: 0">Integrated Solutions for Product Creation</h3>
            <p>
              Copyright &copy; 2015 Amaret Inc. All rights reserved. <!-- <a href="">Terms of Use</a> &nbsp;|&nbsp;  <a href="">Privacy Policy</a> -->
            </p>
          </div>

      </div>
    </footer>

    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="../../static/js/pollen.js"></script>
    <script src="../../static/js/prism.js"></script>


  </body>

</html>
