<!DOCTYPE html>
<html lang="en">

  <head>
    
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Pollen, a new programming language for tiny computers by Amaret, Inc.">
    <meta name="keywords" content="programming, programming languages, languages, hardware, microcontroller, embedded system, embedded systems, embedded systems programming, embedded development, microcontroller software, microcontroller software development">
    <meta name="author" content="Amaret, Inc.">

    <title>Programming Pollen</title>

    <!-- Bootstrap core CSS -->
    <link href="../../static/css/bootstrap.css" rel="stylesheet" />

    <!-- Prism CSS -->
    <link href="../../static/css/prism.css" rel="stylesheet" />

    <!-- Amaret core CSS -->
    <link href="../../static/css/pollen.css" rel="stylesheet" />

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="static/ico/apple-touch-icon-144-precomposed.png">
    <link rel="icon" href="static/ico/favicon.ico">

    <!-- analytics --> 
    <script></script>
  </head>

  <body class="doc-page language-javascript" data-spy="scroll" data-target="#doc-sidenav">

    <div class="navbar navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://localhost/~amichi/pollen/index.html">Pollen</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li id="introduction"><a href="http://localhost/~amichi/pollen/introduction/index.html">Introduction</a></li>
        <li><a href="http://localhost/~amichi/pollen/guide/index.html">Language Guide</a></li>
        <li><a href="http://localhost/~amichi/pollen/reference/index.html">Reference</a></li>
        <li><a href="http://localhost/~amichi/pollen/compiler/index.html">Compiler</a></li>
        <li><a href="">Support</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="">About</a></li>
      </ul>
    </div>
  </div>
  <div class="alert alert-warning" role="alert" style="text-align: center; margin: 0">
    <p><span class="glyphicon glyphicon-road" aria-hidden="true"></span> This documentation is being worked on and is not yet in a releasable state. &nbsp;2015-04-21</p>
  <p>  </p>
</div>

</div>



    <div class="doc-header draft-mode">
      <div class="container">
        <h1>Programming Pollen</h1>
        <p>A practical guide to the Pollen language features and how to make use of them effectively.</p>
      </div>
    </div>

    <div class="container doc-container" style="padding-bottom: 60px">
      <div class="row" id="content">
        <div class="col-md-3">
  <nav id="doc-sidenav" class="doc-sidebar hidden-print hidden-xs hidden-sm" role="navigation">
    <h4>Language Guide</h4>
<ul class="nav doc-sidenav affix-top" data-spy="affix" data-offset-top="10" data-offset-bottom="200" style="margin-top: 0px">
  <li><a href="http://localhost/~amichi/pollen/guide">The Basics</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/operators">Basic Operators</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/strings">Strings and Characters</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/arrays">Arrays</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/control-flow">Control Flow</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/function-references">Function References</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/host-initialization">Host Initialization</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/modules">Modules</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/protocols">Protocols</a></li>  
  <li><a href="http://localhost/~amichi/pollen/guide/compositions">Compositions</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/classes">Classes</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/enumerations">Enumerations</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/meta">Meta Types</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/print-keyword">Print Keyword</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/intrinsics">Intrinsics</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/c-code">C Code Injection</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/packages-bundles">Packages &amp; Bundles</a></li>
  <li><a href="http://localhost/~amichi/pollen/guide/pollen-corelib">Core Library</a>
    <ul>
        <li><a href="http://localhost/~amichi/pollen/guide/pollen-events">Events</a></li>
        <li><a href="http://localhost/~amichi/pollen/guide/pollen-timers">Timers</a></li>
    </ul>
  </li>
  
</ul>

  </nav>
</div>

<div class="col-md-9" role="main">

  <h1 id="basics" class="page-header" style="margin-top: 5px">The Basics</h1>

<h3 id="ref-constsvars" class="page-header">Constants and Variables</h3>

<p>Pollen is translated to C and it will often look like C, only simpler. </p>

<p>Here are some typical declarations.</p>

<pre><code>uint8 i = 0
bool flag = true
int32 x, y, z
string hello = "Hello world!"     // the quoted literal is terminated with '\0'
</code></pre>

<p>Pollen supports the attributes <code>const</code> and <code>volatile</code> for declarations. They
have the same meaning as they do in C.</p>

<h3 id="ref-refs" class="page-header">References</h3>

<p>Pollen data members can be references. 
Pollen does not support pointers. 
There are three kinds of references in Pollen. </p>

<ul>
  <li>Class references. More on these
<a href="http://localhost/~amichi/pollen/guide/classes#ref-class-ref">here</a>.</li>
  <li>Function references. More on these
<a href="http://localhost/~amichi/pollen/guide/function-references">here</a>.</li>
  <li>Protocol member. More on these
<a href="http://localhost/~amichi/pollen/guide/protocols#ref-protocol-member">here</a>.</li>
</ul>

<h3 id="ref-comments" class="page-header">Comments</h3>

<p>Pollen has several available formats for comments. Here are the single line formats:</p>

<pre><code> --- A comment.
 # Another comment.
 //  YAC. (Yet Another Comment.)
</code></pre>

<p>There is one format for multi-line comments:</p>

<pre><code> !--
   The first '!' must be followed by 2 or more dashes...
   ...and the last '!' must be preceded by 2 or more dashes.
 --!
</code></pre>

<h3 id="ref-stmt-term" class="page-header">Statement Terminator</h3>

<p>An expression becomes a statement when it is terminated by a statement
terminator. The statement terminator is a newline. For statements
on one line a semicolon can be used as terminator. Here, for example, two
class members are initialized to parameter values:</p>

<pre><code>@data = data; @priority = priority
</code></pre>

<p>This is equivalent to:</p>

<pre><code>@data = data
@priority = priority
</code></pre>

<p>(The <code>@</code> indicates that this variable is defined in the body of a class or module. It is equivalent to <code>this</code> in Java/C++)</p>

<p>Pollen does not require explicit visible statement terminators. 
Using newline as a statement terminator makes programs visually simpler and more readable. </p>

<div class="alert alert-warning" role="alert">
<span class="glyphicon glyphicon-eye-open"></span>
Use newlines in natural places where they are commonly found in well-structured code.
</div>

<p>Pollen is flexible and understands standard formats. Multiple newlines, possibly with embedded comments, are equivalent to a single statement terminator.</p>

<pre><code> uint8 buff[] = { 
                  0,1,2,
                  3,4,5
                }
 uint8 buff[] = { 0,1,2,
                  3,4,5 }
 uint8 buff[] = { 0,1,2,3,4,5 }
</code></pre>

<p>Or, for functions:</p>

<pre><code> foo() {  }
 bar() { 
 }
</code></pre>

<div class="alert alert-danger" role="alert">
<span class="glyphicon glyphicon-fire"></span>
It is important to remember that the newline is meaningful syntax and is not ignored.
</div>

<p>Here is an example of non-conventional newline location that will cause a syntax error. </p>

<pre><code> uint8 buff[] = { 0,1,2
                  ,
                  3,4,5,}
</code></pre>

<h3 id="ref-integers" class="page-header">Integers</h3>

<p>Pollen supports the signed integer types <code>int8</code>, <code>int16</code>,  and <code>int32</code> 
which map to an 8-bit signed integer, 16-bit signed integer, and 32-bit signed integer.</p>

<p>Pollen supports the unsigned integer types <code>uint8</code>, <code>uint16</code>, and <code>uint32</code> 
which map to an 8-bit unsigned integer, 16-bit unsigned integer, and 32-bit unsigned integer.</p>

<div class="alert alert-info" role="alert">
<span class="glyphicon glyphicon-eye-open"></span>
Since Pollen is designed for microcontrollers with limited memories, it does not currently support signed or unsigned 64-bit integers.
</div>

<h3 id="ref-real" class="page-header">Real Numbers</h3>

<p>Pollen supports the data type <code>real</code>. This is mapped to the C data type <code>float</code>.</p>

<pre><code> real f = 123e4
</code></pre>

<h3 id="ref-numeric-lits" class="page-header">Numeric Literals</h3>

<p>Integer literals can be written as:</p>

<ul>
  <li>A decimal number, with no prefix</li>
  <li>An octal number, with a 0o prefix</li>
  <li>A hexadecimal number, with a 0x prefix</li>
</ul>

<p>All of these integer literals have a decimal value of 17:</p>

<pre><code> decimalInteger = 17
 octalInteger = 0o21           // 17 in octal notation
 hexadecimalInteger = 0x11     // 17 in hexadecimal notation
</code></pre>

<p>Floating point literals use standard floating point notation.</p>

<pre><code> real f1 = 1.3
 real f2 = 0.0
 real f3 = 123e4
 real f4 = -7.5
</code></pre>

<h3 id="ref-typecvt" class="page-header">Numeric Type Conversion</h3>

<p>Pollen supports the same default (non-explicit) type conversions that C
supports. </p>

<p>Pollen does not support type casting. The pegging operator can be used with
arrays to get the functional equivalent of casting. More on pegging arrays 
<a href="http://localhost/~amichi/pollen/guide/arrays#ref-arrays-nodim">here</a>.</p>

<h3 id="ref-bool" class="page-header">Booleans</h3>

<p>Pollen supports the boolean type <code>bool</code>. It can be assigned to the constants
<code>true</code> or <code>false</code>. </p>

<pre><code> bool flag = true
</code></pre>

<h3 id="ref-asserts" class="page-header">Assertions</h3>

<p>Pollen assertion are turned on by the cloud compiler option <code>-a</code>. They are off
by default.</p>

<p>Assertions consist of an expression followed by a string. If the expression is
true the string is printed out:</p>

<pre><code> pollen.assert(f1 == 3, "found f1 == 3")
</code></pre>

<p>Note that the string will not be printed if no print implemenation has been
bound. More on binding a print implementation can be found 
<a href="http://localhost/~amichi/pollen/guide/print-keyword/#ref-print-bind">here</a>.</p>

<p>If assertions are not turned on, the assert will be a no-op.</p>

  
  
</div>


      </div>
    </div>

        <footer class="" role="contentinfo">
      <div class="container section">

          <div class="container">
            <a data-scroll href="http://amaret.com"><img class="brand-logo" src="../../static/img/logo_white_medium.png" /></a>
            <h3 style="margin-top: 0">Integrated Solutions for Product Creation</h3>
            <p>
              Copyright &copy; 2015 Amaret Inc. All rights reserved. <!-- <a href="">Terms of Use</a> &nbsp;|&nbsp;  <a href="">Privacy Policy</a> -->
            </p>
          </div>

      </div>
    </footer>

    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="../../static/js/pollen.js"></script>
    <script src="../../static/js/prism.js"></script>


  </body>

</html>
