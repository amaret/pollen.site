<!DOCTYPE html>
<html lang="en">

  <head>
    
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Pollen, a new programming language for tiny computers by Amaret, Inc.">
    <meta name="keywords" content="programming, programming languages, languages, hardware, microcontroller, embedded system, embedded systems, embedded systems programming, embedded development, microcontroller software, microcontroller software development">
    <meta name="author" content="Amaret, Inc.">

    <title>Cloud Compiler</title>

    <!-- Bootstrap core CSS -->
    <link href="../static/css/bootstrap.css" rel="stylesheet" />

    <!-- Prism CSS -->
    <link href="../static/css/prism.css" rel="stylesheet" />

    <!-- Amaret core CSS -->
    <link href="../static/css/pollen.css" rel="stylesheet" />

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="static/ico/apple-touch-icon-144-precomposed.png">
    <link rel="icon" href="static/ico/favicon.ico">

    <!-- analytics --> 
    <script></script>
  </head>

  <body class="doc-page language-javascript" data-spy="scroll" data-target="#doc-sidenav">

    <div class="navbar navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://localhost/~amichi/pollen/index.html">Pollen</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li id="introduction"><a href="http://localhost/~amichi/pollen/introduction/index.html">Introduction</a></li>
        <li><a href="http://localhost/~amichi/pollen/guide/index.html">Language Guide</a></li>
        <li><a href="http://localhost/~amichi/pollen/reference/index.html">Reference</a></li>
        <li><a href="http://localhost/~amichi/pollen/compiler/index.html">Compiler</a></li>
        <li><a href="">Support</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="">About</a></li>
      </ul>
    </div>
  </div>
  <div class="alert alert-warning" role="alert" style="text-align: center; margin: 0">
    <p><span class="glyphicon glyphicon-road" aria-hidden="true"></span> This documentation is being worked on and is not yet in a releasable state. &nbsp;2015-04-21</p>
  <p>  </p>
</div>

</div>



    <div class="doc-header draft-mode">
      <div class="container">
        <h1>Cloud Compiler</h1>
        <p>The cloud compiler hosts the pollen translator and a collection of C-compilers enabling simple builds for multiple microcontroller targets.</p>
      </div>
    </div>

    <div class="container doc-container" style="padding-bottom: 60px">
      <div class="row" id="content">
        <div class="col-md-3">
  <div class="doc-sidebar hidden-print hidden-xs hidden-sm affix" role="complementary">
    <h4>Cloud Compiler</h4>

<ul class="nav doc-sidenav affix-top" data-spy="affix" data-offset-top="10" data-offset-bottom="200"              style="margin-top: 0px">
  <li><a href="http://localhost/~amichi/pollen/compiler">Building Pollen Code</a></li>
  <li><a href="#">Reports</a></li>
  <li><a href="#">Analytics</a></li>
  <li><a href="#">Export</a></li>
</ul>

  </div>
</div>

<div class="col-md-9" role="main">

  <h1 id="building-pollen-code">Building Pollen Code</h1>

<p>Cloud compiler output consists of messages and files. The Pollen translator checks the code and translates it to C if there are no Pollen errors, then the appropriate C compiler runs (in the cloud). If there are no errors the code will be linked and downloaded. Depending on the target there may be other tools run on the output (for example, objcopy). </p>

<p>Here is the command line to translate 
<a href="http://localhost/~amichi/pollen/guide/protocols#ref-protocol-timerblink"><strong>this</strong></a>
Pollen file into C for the Arduino Uno. You must supply a local directory path
for the output path.</p>

<pre><code>pollenc                               \
  -o &lt;output path&gt;                    \    
  -t avr-gcc                          \
  -m atmega328p                       \
  -b @pollen-core                     \
  -b @atmel                           \
  -b @environments                    \
  -e @environments/arduino/Uno        \
  TimerBlink.p                        \
</code></pre>

<p>(Note the most current list of supported options are available as the output of <code>pollen --help</code>.)</p>

<p>The <code>-o</code> (or <code>--out</code>) option specifies the local path to the output files.</p>

<p>The <code>-t</code> (or <code>--toolchain</code>) option specifies the toolchain. Current supported toolchains include avr-gcc,
arm-none-eabi-gcc, and localhost-gcc. The toolchain includes the compiler but may also incorporate other tools (such as avrdude and objcopy).</p>

<p>The option <code>-m</code> (or <code>--mcu</code>) option specifies the target microcontroller. Valid values for this option depend on the toolchain. (Note that if the toolchain is <code>localhost-gcc</code> this option is not supported.)</p>

<p>The option <code>-b</code> (or <code>--bundle</code>) specificies a bundle. In this case cloud bundles are used which is signified by <code>@</code> before the bundle name. These bundles reside in the cloud and support a variety of essential types, services, and hardware. Cloud bundles can be downloaded for inspection or modification. </p>

<p>The option <code>-e</code> (or <code>--environment</code>) is the option to specify an environment.
(More information <a href="http://localhost/~amichi/pollen/guide/protocols#ref-protocol-bind-cmmd">here</a>.)</p>

<p>The C compiler output file will have the name TimerBlink-prog.out (or ‘top level module name’-prog.out in the general case). It will be located under the output directory specified with <code>-o</code>.</p>

<p>Note that other tools may run on that file (e.g. objcopy) so  what the final executeable name will be depends on the toolchain used.</p>

<p>Here is the cloud compiler command line to translate the <code>TimerBlink</code> program for the localhost:</p>

<pre><code>pollenc  -o &lt;output path&gt; -t localhost-gcc                  \
         -b @pollen-core  -b @localhost   -b @environments  \ 
         -e @environments/localhost/LocalHost TimerBlink.p
</code></pre>

<p>The values for the <code>-t</code> and <code>-e</code> options have changed and the <code>-m</code> option is not supplied (because it is not meaningful in the localhost context). </p>


</div>

      </div>
    </div>

        <footer class="" role="contentinfo">
      <div class="container section">

          <div class="container">
            <a data-scroll href="http://amaret.com"><img class="brand-logo" src="../static/img/logo_white_medium.png" /></a>
            <h3 style="margin-top: 0">Integrated Solutions for Product Creation</h3>
            <p>
              Copyright &copy; 2015 Amaret Inc. All rights reserved. <!-- <a href="">Terms of Use</a> &nbsp;|&nbsp;  <a href="">Privacy Policy</a> -->
            </p>
          </div>

      </div>
    </footer>

    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="../static/js/pollen.js"></script>
    <script src="../static/js/prism.js"></script>


  </body>

</html>
